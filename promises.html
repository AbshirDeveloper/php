<script>
//using callback
    
//    function http(url, method, success, fail){
//        var data = "success"
//        if(data){
//            success(data);
//        } else {
//            fail("failed");
//        }
//    }
//
//        http('json.json', 'GET', function(a){
//            console.log(a);
//        }, function(a){
//            console.log(a);
//        })

//using promise
    window.onload = function(){  
        function https(url){
            return new Promise(function(resolve, reject){
                var data = new XMLHttpRequest();
                data.open('GET', url, true);
                data.onload = function(){
                   if(data.status == 200){
                       resolve(data.responseText);
                   } else {
                       reject('Error');
                   }
                }
                data.send();
            });
        }

        var promise = https('json.json')
        .then(function(a){
            console.log(a);
        })
        .catch(function(a){
            console.log(a);
        })
        
    }
</script>
